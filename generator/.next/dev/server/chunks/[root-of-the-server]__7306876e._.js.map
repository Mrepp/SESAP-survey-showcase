{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/kaelinnchristman/CS/Capstone/SESAP-survey-showcase/generator/src/app/api/transcripts/%5Bfilename%5D/route.js"],"sourcesContent":["import fs from 'fs'\nimport path from 'path'\nimport { fileURLToPath } from 'url'\n\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = path.dirname(__filename)\n\nexport async function GET(request, { params }) {\n    try {\n        const { filename } = params\n        \n        // Calculate path: from generator/src/app/api/transcripts/[filename]/route.js\n        // Go up to generator, then to ../data/analyzed_interviews/example_transcripts\n        // __dirname is generator/src/app/api/transcripts/[filename]\n        // So we need: __dirname -> ../../../../.. -> ../data\n        const projectRoot = path.resolve(__dirname, '../../../../..')\n        const dataPath = path.join(\n            projectRoot,\n            '..',\n            'data',\n            'analyzed_interviews',\n            'example_transcripts',\n            filename\n        )\n        \n        console.log('Looking for file at:', dataPath)\n        console.log('File exists:', fs.existsSync(dataPath))\n        \n        // Check if file exists\n        if (!fs.existsSync(dataPath)) {\n            console.error('File not found at:', dataPath)\n            return new Response(JSON.stringify({ error: 'File not found', path: dataPath }), {\n                status: 404,\n                headers: { 'Content-Type': 'application/json' }\n            })\n        }\n        \n        // Read and return the file\n        const fileContent = fs.readFileSync(dataPath, 'utf-8')\n        const jsonData = JSON.parse(fileContent)\n        \n        // Log the structure - could be array or object\n        const isArray = Array.isArray(jsonData)\n        const wordCount = isArray ? jsonData.length : (jsonData.words?.length || 0)\n        console.log(`Successfully loaded file ${filename}, isArray: ${isArray}, word count: ${wordCount}`)\n        \n        return new Response(JSON.stringify(jsonData), {\n            status: 200,\n            headers: { 'Content-Type': 'application/json' }\n        })\n    } catch (error) {\n        console.error('Error reading transcript file:', error)\n        return new Response(JSON.stringify({ error: 'Internal server error', message: error.message }), {\n            status: 500,\n            headers: { 'Content-Type': 'application/json' }\n        })\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,aAAa,IAAA,gHAAa,EAAC,8BAAY,GAAG;AAChD,MAAM,YAAY,4GAAI,CAAC,OAAO,CAAC;AAExB,eAAe,IAAI,OAAO,EAAE,EAAE,MAAM,EAAE;IACzC,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG;QAErB,6EAA6E;QAC7E,8EAA8E;QAC9E,4DAA4D;QAC5D,qDAAqD;QACrD,MAAM,cAAc,4GAAI,CAAC,OAAO,CAAC,WAAW;QAC5C,MAAM,WAAW,4GAAI,CAAC,IAAI,CACtB,aACA,MACA,QACA,uBACA,uBACA;QAGJ,QAAQ,GAAG,CAAC,wBAAwB;QACpC,QAAQ,GAAG,CAAC,gBAAgB,wGAAE,CAAC,UAAU,CAAC;QAE1C,uBAAuB;QACvB,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW;YAC1B,QAAQ,KAAK,CAAC,sBAAsB;YACpC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;gBAAkB,MAAM;YAAS,IAAI;gBAC7E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;YAClD;QACJ;QAEA,2BAA2B;QAC3B,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC9C,MAAM,WAAW,KAAK,KAAK,CAAC;QAE5B,+CAA+C;QAC/C,MAAM,UAAU,MAAM,OAAO,CAAC;QAC9B,MAAM,YAAY,UAAU,SAAS,MAAM,GAAI,SAAS,KAAK,EAAE,UAAU;QACzE,QAAQ,GAAG,CAAC,CAAC,yBAAyB,EAAE,SAAS,WAAW,EAAE,QAAQ,cAAc,EAAE,WAAW;QAEjG,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,WAAW;YAC1C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAClD;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;YAAyB,SAAS,MAAM,OAAO;QAAC,IAAI;YAC5F,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAClD;IACJ;AACJ","debugId":null}}]
}